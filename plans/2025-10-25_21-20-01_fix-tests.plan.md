# Plan: Fix test bootstrap and run suite

Resolve the `import.meta.glob` issue in `src/test.ts` so Angular/Karma tests run, then execute the suite to cover the new md2json tests.

## Tasks

- [x] Update `src/test.ts` to use a CLI-compatible spec loader instead of `import.meta.glob`.
  > **Edit** `apply_patch`
  >
  > Replaced the Vite-specific `import.meta.glob` loader in [src/test.ts](../src/test.ts) with the standard `require.context` pattern that Angular/Karma understands, restoring compatibility with the CLI webpack build.
- [x] Re-run `npm run test -- --watch=false` to ensure the suite passes (or document any remaining issues).
  > **Bash** `{"command":["bash","-lc","npm run test -- --watch=false"],"workdir":"/home/cb/projects/github/ultimate-comparison-framework","with_escalated_permissions":true,"justification":"Need to run Angular/Karma suite after fixing the test bootstrap to ensure md2json tests pass.","timeout_ms":120000}`
  >
  > Initial run failed because `require` was not defined in TypeScript; added a declaration and retried.
  > ---
  > **Edit** `apply_patch` (src/test.ts)
  >
  > Declared the webpack `require.context` signature so TypeScript recognizes the loader.
  > ---
  > **Bash** `{"command":["bash","-lc","npm run test -- --watch=false"],"workdir":"/home/cb/projects/github/ultimate-comparison-framework","with_escalated_permissions":true,"justification":"Re-run Angular test suite after defining require in test bootstrap.","timeout_ms":120000}`
  >
  > The Angular/Karma runner now progresses to launching browsers but fails because ChromeHeadless is unavailable in this environment (`No binary for ChromeHeadless`); this external limitation prevents completing the suite, but the bootstrap fix is validated up to launcher startup.
