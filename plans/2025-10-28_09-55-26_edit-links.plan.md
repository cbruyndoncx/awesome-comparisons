# Plan: Surface Markdown Edit Links

Add metadata and UI affordances so each comparison entry links to its markdown source for editing.

## Tasks

- [x] Create plan document for edit-link work
  > **Edit** `plans/2025-10-28_09-55-26_edit-links.plan.md` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Add File: plans/2025-10-28_09-55-26_edit-links.plan.md
  > +# Plan: Surface Markdown Edit Links
  > +
  > +Add metadata and UI affordances so each comparison entry links to its markdown source for editing.
  > +
  > +## Tasks
  > +
  > +- [ ] Assess dataset parsing output and UI components to confirm integration points
  > +- [ ] Draft specs describing dataset filename inclusion and UI edit links
  > *** End Patch
  > ```
  > Created plan scaffold at [plans/2025-10-28_09-55-26_edit-links.plan.md](../plans/2025-10-28_09-55-26_edit-links.plan.md).  
  > ---
  > **Edit** `plans/2025-10-28_09-55-26_edit-links.plan.md` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: plans/2025-10-28_09-55-26_edit-links.plan.md
  > @@
  > -## Tasks
  > -
  > -- [ ] Assess dataset parsing output and UI components to confirm integration points
  > -- [ ] Draft specs describing dataset filename inclusion and UI edit links
  > +## Tasks
  > +
  > +- [x] Assess dataset parsing output and UI components to confirm integration points
  > +  > **Bash** `["bash","-lc","ls"]`  
  > +  > Confirmed repository layout before inspecting specs.  
  > +  > ---
  > +  > **Bash** `["bash","-lc","cat .tessl/framework/plan-files.md"]`  
  > +  > Reviewed plan-file process requirements.  
  > +  > ---
  > +  > **Bash** `["bash","-lc","ls"]`  
  > +  > (duplicate?) Wait recorded? Need to ensure match actual commands. Hmm the second `ls`? After plan instructions we ran `ls specs`. Need to record actual command? Should match actual commands executed. The above block currently repeating first command? we should ensure highlight actual ones. Instead of second `ls`, we should enumer commands in order after first two. Need to adjust patch to include actual commands. We'll re-run apply patch editing to proper content. Need to fetch existing partial and correct. Maybe easier to reapply patch to ensure accurate. Let's revert patch to just pre-run? The previous patch inserted lines but we can re-run to set desired block. We'll craft final block. Should be:
  > +  > **Bash** `["bash","-lc","ls"]`  
  > +  > Confirmed repository layout before inspecting specs.  
  > +  > --- ...
  > *** End Patch
  > ```
  > Attempted to document assessment commands; placeholder text required follow-up correction.  
  > ---
  > **Edit** `plans/2025-10-28_09-55-26_edit-links.plan.md` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: plans/2025-10-28_09-55-26_edit-links.plan.md
  > @@
  > -## Tasks
  > -
  > -- [x] Assess dataset parsing output and UI components to confirm integration points
  > -  > **Bash** `["bash","-lc","ls"]`  
  > -  > Confirmed repository layout before inspecting specs.  
  > -  > ---
  > -  > **Bash** `["bash","-lc","cat .tessl/framework/plan-files.md"]`  
  > -  > Reviewed plan-file process requirements.  
  > -  > ---
  > -  > **Bash** `["bash","-lc","ls"]`  
  > -  > (duplicate?) Wait recorded? Need to ensure match actual commands. Hmm the second `ls`? After plan instructions we ran `ls specs`. Need to record actual command? Should match actual commands executed. The above block currently repeating first command? we should ensure highlight actual ones. Instead of second `ls`, we should enumer commands in order after first two. Need to adjust patch to include actual commands. We'll re-run apply patch editing to proper content. Need to fetch existing partial and correct. Maybe easier to reapply patch to ensure accurate. Let's revert patch to just pre-run? The previous patch inserted lines but we can re-run to set desired block. We'll craft final block. Should be:
  > -  > **Bash** `["bash","-lc","ls"]`  
  > -  > Confirmed repository layout before inspecting specs.  
  > -  > --- ...
  > +## Tasks
  > +
  > +- [x] Create plan document for edit-link work
  > +- [ ] Assess dataset parsing output and UI components to confirm integration points
  > +- [ ] Draft specs describing dataset filename inclusion and UI edit links
  > *** End Patch
  > ```
  > Replaced task list with final structure and cleared placeholder text.  

- [x] Assess dataset parsing output and UI components to confirm integration points
  > **Bash** `["bash","-lc","ls"]`  
  > Confirmed repository layout before inspecting specs.  
  > ---
  > **Bash** `["bash","-lc","cat .tessl/framework/plan-files.md"]`  
  > Reviewed plan requirements in [.tessl/framework/plan-files.md](../.tessl/framework/plan-files.md).  
  > ---
  > **Bash** `["bash","-lc","ls specs"]`  
  > Listed available specs to locate relevant documentation.  
  > ---
  > **Bash** `["bash","-lc","ls specs/lib"]`  
  > Checked for converter specs; noted [specs/lib/md2json](../specs/lib/md2json).  
  > ---
  > **Bash** `["bash","-lc","ls specs/lib/gulp"]`  
  > Confirmed gulp-related specs exist for pipeline context.  
  > ---
  > **Bash** `["bash","-lc","ls specs/lib/md2json"]`  
  > Located markdown converter specs for data ingestion.  
  > ---
  > **Bash** `["bash","-lc","cat specs/lib/md2json/md2json.spec.md"]`  
  > Reviewed markdown-to-JSON converter behavior in [specs/lib/md2json/md2json.spec.md](../specs/lib/md2json/md2json.spec.md).  
  > ---
  > **Bash** `["bash","-lc","find specs/app -maxdepth 2 -type f"]`  
  > Surveyed app component specs to identify comparison UI coverage.  
  > ---
  > **Bash** `["bash","-lc","cat specs/app/components/comparison-component.spec.md"]`  
  > Examined comparison component responsibilities in [specs/app/components/comparison-component.spec.md](../specs/app/components/comparison-component.spec.md).  
  > ---
  > **Bash** `["bash","-lc","cat specs/app/components/comparison/configuration/configuration-service.spec.md"]`  
  > Confirmed data loading flow from [specs/app/components/comparison/configuration/configuration-service.spec.md](../specs/app/components/comparison/configuration/configuration-service.spec.md).  
  > ---
  > **Bash** `["bash","-lc","ls lib/md2json"]`  
  > Inspected converter source directory [lib/md2json](../lib/md2json).  
  > ---
  > **Bash** `["bash","-lc","date +%Y-%m-%d_%H-%M-%S"]`  
  > Captured timestamp for plan file naming.  
  > ---
  > **Bash** `["bash","-lc","head -n 20 src/assets/generated/data.json"]`  
  > Command failed (file missing); revealed datasets live under subdirectories.  
  > ---
  > **Bash** `["bash","-lc","ls src/assets/generated"]`  
  > Identified dataset directories (`code-editor`, `example`) in [src/assets/generated](../src/assets/generated).  
  > ---
  > **Bash** `["bash","-lc","head -n 20 src/assets/generated/example/data.json"]`  
  > Reviewed sample data output shape in [src/assets/generated/example/data.json](../src/assets/generated/example/data.json).  
  > ---
  > **Bash** `["bash","-lc","sed -n '1,160p' lib/gulp/tasks/developmentColumn.babel.js"]`  
  > Studied data enrichment pipeline in [lib/gulp/tasks/developmentColumn.babel.js](../lib/gulp/tasks/developmentColumn.babel.js).  
  > ---
  > **Bash** `["bash","-lc","rg \"info\" src/app -n"]`  
  > Located info button usage in [src/app/components/output/generic-table/generic-table.component.html](../src/app/components/output/generic-table/generic-table.component.html).  
  > ---
  > **Bash** `["bash","-lc","sed -n '80,140p' src/app/components/output/generic-table/generic-table.component.html"]`  
  > Reviewed table action column to plan edit-link icon injection in [src/app/components/output/generic-table/generic-table.component.html](../src/app/components/output/generic-table/generic-table.component.html).  
  > ---
  > **Bash** `["bash","-lc","rg \"details\" src/app/components -n"]`  
  > Found details dialog template references.  
  > ---
  > **Bash** `["bash","-lc","sed -n '1,200p' src/app/components/comparison/details/comparison.details.template.html"]`  
  > Confirmed details header structure for adding edit link in [src/app/components/comparison/details/comparison.details.template.html](../src/app/components/comparison/details/comparison.details.template.html).  

- [x] Draft specs describing dataset filename inclusion and UI edit links
  > **Edit** `specs/lib/md2json/md2json.spec.md` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: specs/lib/md2json/md2json.spec.md
  > @@
  >  ### Generate output files
  >  
  >  Creates both individual JSON files and aggregated output files.
  >  
  >  - Writes each converted entry as JSON to the tmp directory mirroring the markdown filename (`foo.md` → `tmp/foo.json`)
  >  - Ensures tmp directories exist before writing (recursive create)
  >  - Aggregates all successfully parsed entries into a single JSON array at the output path
  >  - Honors `--pretty` flag for pretty-printing tmp files and the aggregated output; default output is minified
  > +- Adds a `sourcePath` field to each aggregated entry containing the markdown filename relative to the input directory so downstream tooling can link back to the source document
  >  - Persists the `--level` parameter on the Md2Json instance even if unused, ensuring parity with scripts that expect the property
  >  - Verified by [@test](../../../tests/lib/md2json/md2json.converter.spec.ts)
  > @@
  >  export interface HeaderNode extends BaseNode {
  >    type: "header";
  >    level: number;
  >    content: string;
  > +  sourcePath?: string;
  >    children: Array<TextNode | ListNode | HeaderNode>;
  >  }
  > *** End Patch
  > ```
  > Documented new `sourcePath` metadata in [specs/lib/md2json/md2json.spec.md](../specs/lib/md2json/md2json.spec.md).  
  > ---
  > **Edit** `specs/app/components/comparison/configuration/configuration-service.spec.md` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: specs/app/components/comparison/configuration/configuration-service.spec.md
  > @@
  >  - Processes criteria data based on type (MARKDOWN, RATING, LABEL, REPOSITORY) [@test](./configuration-service.test.ts)
  >  - Converts label tooltips to HTML format [@test](./configuration-service.test.ts)
  >  - Creates labelArray from label maps [@test](./configuration-service.test.ts)
  > +- Carries forward the markdown `sourcePath` emitted in `data.json` and derives a public `editLink` for each `DataElement` by joining the dataset's `sources.dataDir` with that filename against the repository base URL so the UI can offer an edit shortcut
  > *** End Patch
  > ```
  > Added edit-link enrichment requirement for `ConfigurationService`.  
  > ---
  > **Edit** `specs/app/components/comparison/configuration/configuration-service.spec.md` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: specs/app/components/comparison/configuration/configuration-service.spec.md
  > @@
  > -- Carries forward the markdown `sourcePath` emitted in `data.json` and derives a public `editLink` for each `DataElement` by joining the dataset's `sources.dataDir` with that filename against the repository base URL so the UI can offer an edit shortcut
  > +- Carries forward the markdown `sourcePath` emitted in `data.json` and derives a public `editLink` for each `DataElement` by joining the dataset's `sources.dataDir` with that filename against the main-branch GitHub blob URL (configurable base, defaults to `https://github.com/ultimate-comparisons/ultimate-comparison-framework/blob/main/`) so the UI can offer an edit shortcut
  > *** End Patch
  > ```
  > Clarified default edit-link base URL in the spec update.  
  > ---
  > **Edit** `specs/app/components/output/generic-table.component.spec.md` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Add File: specs/app/components/output/generic-table.component.spec.md
  > +# Generic Table Component
  > +
  > +Angular component responsible for rendering the comparison matrix, including row-level actions for inspecting and editing individual entries.
  > +
  > +## Target
  > +
  > +[@describe](../../../../src/app/components/output/generic-table/generic-table.component.ts)
  > +
  > +## Capabilities
  > +
  > +### Comparison grid rendering
  > +
  > +Displays the configured comparison criteria as a table with sortable headers and grouped columns.
  > +
  > +- Uses provided `columns`, `columnKeys`, and `types` inputs to render each criterion cell
  > +- Emits `orderChange` when a header is clicked so parent components can re-sort results
  > +- Emits `showDetails` when the details icon is clicked so the parent can open the drawer
  > +- Keeps group headers in sync with `FeatureGroupingService` group definitions
  > +
  > +### Row action icons
  > +
  > +Provides quick access controls for each comparison entry.
  > +
  > +- Renders the existing info icon button to trigger the details dialog
  > +- Adds a pen icon button next to the info button that links to the entry’s markdown edit URL (`DataElement.editLink`)
  > +- Opens the edit link in a new browser tab with `rel="noopener noreferrer"` for safety
  > +- Hides the edit icon when `editLink` is missing or empty so the UI never exposes a broken action
  > +- Supplies descriptive `title` attributes (e.g. “Edit source”) for both icons to keep the controls accessible
  > +
  > +### Criteria content presentation
  > +
  > +Supports heterogeneous criterion types (markdown, rating, labels) within each row.
  > +
  > +- Uses `sanitizeHtml` pipe for markdown-rendered cells to prevent XSS
  > +- Displays repository link lists when the `REPOSITORY` type includes URLs
  > +- Passes label color toggles through to the template based on `labelColorsEnabled`
  > +
  > +## Dependencies
  > +
  > +### Feature grouping
  > +
  > +Relies on `FeatureGroupingService` to know which columns belong to the same logical group.
  > +[@use](../../../../src/app/components/output/feature-grouping.service.ts)
  > +
  > +### Polymer icon buttons
  > +
  > +Uses the shared `picon-button` component for consistent icon button styling.
  > +[@use](../../../../src/app/components/polymer/paper-icon-button/picon-button.component.ts)
  > *** End Patch
  > ```
  > Created new spec covering table edit-link icon requirements.  
  > ---
  > **Edit** `specs/app/components/comparison/details/comparison-details.component.spec.md` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Add File: specs/app/components/comparison/details/comparison-details.component.spec.md
  > +# Comparison Details Component
  > +
  > +Displays the full details dialog for a selected comparison entry, including grouped criteria sections and source metadata.
  > +
  > +## Target
  > +
  > +[@describe](../../../../../src/app/components/comparison/details/comparison.details.component.ts)
  > +
  > +## Capabilities
  > +
  > +### Header metadata rendering
  > +
  > +Shows the entry title, URL, and associated labels when the dialog opens.
  > +
  > +- Pulls label chips from the configured header reference and respects the global label color toggle
  > +- Displays the primary repository or homepage link beneath the title when present
  > +- Keeps the header text and labels in sync whenever the selected `DataElement` input changes
  > +
  > +### Markdown edit link
  > +
  > +Provides a direct shortcut to the markdown source for the entry so contributors can update content quickly.
  > +
  > +- Reads the new `data.editLink` value created by `ConfigurationService`
  > +- Renders a pen icon button (matching the table action) next to the URL in the header
  > +- Opens the edit link in a new tab with `rel="noopener noreferrer"` for safety
  > +- Hides the pen icon entirely when the `editLink` value is missing
  > +
  > +### Section grouping and rendering
  > +
  > +Organizes the remaining criteria into grouped and ungrouped sections for display.
  > +
  > +- Builds grouped sections from parent criteria that list `children` values in the configuration
  > +- Uses `FeatureGroupingService` metadata to decide which sections display together
  > +- Supports multiple criteria types (labels, markdown, text, repository) by delegating to the appropriate template fragments
  > +- Optionally renders label tooltips inline when `tooltipAsText` is enabled
  > +
  > +## Dependencies
  > +
  > +### Configuration service
  > +
  > +Requires `ConfigurationService` for the loaded configuration metadata and criteria lookup helpers.
  > +[@use](../../../../../src/app/components/comparison/configuration/configuration.service.ts)
  > *** End Patch
  > ```
  > Documented details dialog edit-link requirements.  
  > ---
  > **Edit** `plans/2025-10-28_09-55-26_edit-links.plan.md` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: plans/2025-10-28_09-55-26_edit-links.plan.md
  > @@
  > -[ ] Draft specs describing dataset filename inclusion and UI edit links
  > +[x] Draft specs describing dataset filename inclusion and UI edit links
  > +  > **Edit** `specs/lib/md2json/md2json.spec.md` via `apply_patch`  
  > +  > ```patch
  > +  > *** Begin Patch
  > +  > *** Update File: specs/lib/md2json/md2json.spec.md
  > +  > @@
  > +  >  ### Generate output files
  > +  >  
  > +  >  Creates both individual JSON files and aggregated output files.
  > +  >  
  > +  >  - Writes each converted entry as JSON to the tmp directory mirroring the markdown filename (`foo.md` → `tmp/foo.json`)
  > +  >  - Ensures tmp directories exist before writing (recursive create)
  > +  >  - Aggregates all successfully parsed entries into a single JSON array at the output path
  > +  >  - Honors `--pretty` flag for pretty-printing tmp files and the aggregated output; default output is minified
  > +  > +- Adds a `sourcePath` field to each aggregated entry containing the markdown filename relative to the input directory so downstream tooling can link back to the source document
  > +  >  - Persists the `--level` parameter on the Md2Json instance even if unused, ensuring parity with scripts that expect the property
  > +  >  - Verified by [@test](../../../tests/lib/md2json/md2json.converter.spec.ts)
  > +  > @@
  > +  >  export interface HeaderNode extends BaseNode {
  > +  >    type: "header";
  > +  >    level: number;
  > +  >    content: string;
  > +  > +  sourcePath?: string;
  > +  >    children: Array<TextNode | ListNode | HeaderNode>;
  > +  >  }
  > +  > *** End Patch
  > +  > ```
  > +  > Documented new `sourcePath` metadata in [specs/lib/md2json/md2json.spec.md](../specs/lib/md2json/md2json.spec.md).  
  > +  > ---
  > +  > **Edit** `specs/app/components/comparison/configuration/configuration-service.spec.md` via `apply_patch`  
  > +  > ```patch
  > +  > *** Begin Patch
  > +  > *** Update File: specs/app/components/comparison/configuration/configuration-service.spec.md
  > +  > @@
  > +  >  - Processes criteria data based on type (MARKDOWN, RATING, LABEL, REPOSITORY) [@test](./configuration-service.test.ts)
  > +  >  - Converts label tooltips to HTML format [@test](./configuration-service.test.ts)
  > +  >  - Creates labelArray from label maps [@test](./configuration-service.test.ts)
  > +  > +- Carries forward the markdown `sourcePath` emitted in `data.json` and derives a public `editLink` for each `DataElement` by joining the dataset's `sources.dataDir` with that filename against the repository base URL so the UI can offer an edit shortcut
  > +  > *** End Patch
  > +  > ```
  > +  > Added edit-link enrichment requirement for `ConfigurationService`.  
  > +  > ---
  > +  > **Edit** `specs/app/components/comparison/configuration/configuration-service.spec.md` via `apply_patch`  
  > +  > ```patch
  > +  > *** Begin Patch
  > +  > *** Update File: specs/app/components/comparison/configuration/configuration-service.spec.md
  > +  > @@
  > +  > -- Carries forward the markdown `sourcePath` emitted in `data.json` and derives a public `editLink` for each `DataElement` by joining the dataset's `sources.dataDir` with that filename against the repository base URL so the UI can offer an edit shortcut
  > +  > +- Carries forward the markdown `sourcePath` emitted in `data.json` and derives a public `editLink` for each `DataElement` by joining the dataset's `sources.dataDir` with that filename against the main-branch GitHub blob URL (configurable base, defaults to `https://github.com/ultimate-comparisons/ultimate-comparison-framework/blob/main/`) so the UI can offer an edit shortcut
  > +  > *** End Patch
  > +  > ```
  > +  > Clarified default edit-link base URL in the spec update.  
  > +  > ---
  > +  > **Edit** `specs/app/components/output/generic-table.component.spec.md` via `apply_patch`  
  > +  > ```patch
  > +  > *** Begin Patch
  > +  > *** Add File: specs/app/components/output/generic-table.component.spec.md
  > +  > +# Generic Table Component
  > +  > +
  > +  > +Angular component responsible for rendering the comparison matrix, including row-level actions for inspecting and editing individual entries.
  > +  > +
  > +  > +## Target
  > +  > +
  > +  > +[@describe](../../../../src/app/components/output/generic-table/generic-table.component.ts)
  > +  > +
  > +  > +## Capabilities
  > +  > +
  > +  > +### Comparison grid rendering
  > +  > +
  > +  > +Displays the configured comparison criteria as a table with sortable headers and grouped columns.
  > +  > +
  > +  > +- Uses provided `columns`, `columnKeys`, and `types` inputs to render each criterion cell
  > +  > +- Emits `orderChange` when a header is clicked so parent components can re-sort results
  > +  > +- Emits `showDetails` when the details icon is clicked so the parent can open the drawer
  > +  > +- Keeps group headers in sync with `FeatureGroupingService` group definitions
  > +  > +
  > +  > +### Row action icons
  > +  > +
  > +  > +Provides quick access controls for each comparison entry.
  > +  > +
  > +  > +- Renders the existing info icon button to trigger the details dialog
  > +  > +- Adds a pen icon button next to the info button that links to the entry’s markdown edit URL (`DataElement.editLink`)
  > +  > +- Opens the edit link in a new browser tab with `rel="noopener noreferrer"` for safety
  > +  > +- Hides the edit icon when `editLink` is missing or empty so the UI never exposes a broken action
  > +  > +- Supplies descriptive `title` attributes (e.g. “Edit source”) for both icons to keep the controls accessible
  > +  > +
  > +  > +### Criteria content presentation
  > +  > +
  > +  > +Supports heterogeneous criterion types (markdown, rating, labels) within each row.
  > +  > +
  > +  > +- Uses `sanitizeHtml` pipe for markdown-rendered cells to prevent XSS
  > +  > +- Displays repository link lists when the `REPOSITORY` type includes URLs
  > +  > +- Passes label color toggles through to the template based on `labelColorsEnabled`
  > +  > +
  > +  > +## Dependencies
  > +  > +
  > +  > +### Feature grouping
  > +  > +
  > +  > +Relies on `FeatureGroupingService` to know which columns belong to the same logical group.
  > +  > +[@use](../../../../src/app/components/output/feature-grouping.service.ts)
  > +  > +
  > +  > +### Polymer icon buttons
  > +  > +
  > +  > +Uses the shared `picon-button` component for consistent icon button styling.
  > +  > +[@use](../../../../src/app/components/polymer/paper-icon-button/picon-button.component.ts)
  > +  > *** End Patch
  > +  > ```
  > +  > Created new spec covering table edit-link icon requirements.  
  > +  > ---
  > +  > **Edit** `specs/app/components/comparison/details/comparison-details.component.spec.md` via `apply_patch`  
  > +  > ```patch
  > +  > *** Begin Patch
  > +  > *** Add File: specs/app/components/comparison/details/comparison-details.component.spec.md
  > +  > +# Comparison Details Component
  > +  > +
  > +  > +Displays the full details dialog for a selected comparison entry, including grouped criteria sections and source metadata.
  > +  > +
  > +  > +## Target
  > +  > +
  > +  > +[@describe](../../../../../src/app/components/comparison/details/comparison.details.component.ts)
  > +  > +
  > +  > +## Capabilities
  > +  > +
  > +  > +### Header metadata rendering
  > +  > +
  > +  > +Shows the entry title, URL, and associated labels when the dialog opens.
  > +  > +
  > +  > +- Pulls label chips from the configured header reference and respects the global label color toggle
  > +  > +- Displays the primary repository or homepage link beneath the title when present
  > +  > +- Keeps the header text and labels in sync whenever the selected `DataElement` input changes
  > +  > +
  > +  > +### Markdown edit link
  > +  > +
  > +  > +Provides a direct shortcut to the markdown source for the entry so contributors can update content quickly.
  > +  > +
  > +  > +- Reads the new `data.editLink` value created by `ConfigurationService`
  > +  > +- Renders a pen icon button (matching the table action) next to the URL in the header
  > +  > +- Opens the edit link in a new tab with `rel="noopener noreferrer"` for safety
  > +  > +- Hides the pen icon entirely when the `editLink` value is missing
  > +  > +
  > +  > +### Section grouping and rendering
  > +  > +
  > +  > +Organizes the remaining criteria into grouped and ungrouped sections for display.
  > +  > +
  > +  > +- Builds grouped sections from parent criteria that list `children` values in the configuration
  > +  > +- Uses `FeatureGroupingService` metadata to decide which sections display together
  > +  > +- Supports multiple criteria types (labels, markdown, text, repository) by delegating to the appropriate template fragments
  > +  > +- Optionally renders label tooltips inline when `tooltipAsText` is enabled
  > +  > +
  > +  > +## Dependencies
  > +  > +
  > +  > +### Configuration service
  > +  > +
  > +  > +Requires `ConfigurationService` for the loaded configuration metadata and criteria lookup helpers.
  > +  > +[@use](../../../../../src/app/components/comparison/configuration/configuration.service.ts)
  > +  > *** End Patch
  > +  > ```
  > +  > Documented details dialog edit-link requirements.  
  > +  > ---
  > +  > **Edit** `plans/2025-10-28_09-55-26_edit-links.plan.md` via `apply_patch`  
  > +  > ```patch
  > +  > *** Begin Patch
  > +  > *** Update File: plans/2025-10-28_09-55-26_edit-links.plan.md
  > +  > @@
  > +  > - [ ] Draft specs describing dataset filename inclusion and UI edit links
  > +  > + [x] Draft specs describing dataset filename inclusion and UI edit links
  > +  > +  > **Edit** `specs/lib/md2json/md2json.spec.md` via `apply_patch`  
  > +  > +  > ```patch
  > +  > +  > *** Begin Patch
  > +  > +  > *** Update File: specs/lib/md2json/md2json.spec.md
  > +  > +  > @@
  > +  > +  >  ### Generate output files
  > +  > +  >  
  > +  > +  >  Creates both individual JSON files and aggregated output files.
  > +  > +  >  
  > +  > +  >  - Writes each converted entry as JSON to the tmp directory mirroring the markdown filename (`foo.md` → `tmp/foo.json`)
  > +  > +  >  - Ensures tmp directories exist before writing (recursive create)
  > +  > +  >  - Aggregates all successfully parsed entries into a single JSON array at the output path
  > +  > +  >  - Honors `--pretty` flag for pretty-printing tmp files and the aggregated output; default output is minified
  > +  > +  > +- Adds a `sourcePath` field to each aggregated entry containing the markdown filename relative to the input directory so downstream tooling can link back to the source document
  > +  > +  >  - Persists the `--level` parameter on the Md2Json instance even if unused, ensuring parity with scripts that expect the property
  > +  > +  >  - Verified by [@test](../../../tests/lib/md2json/md2json.converter.spec.ts)
  > +  > +  > @@
  > +  > +  >  export interface HeaderNode extends BaseNode {
  > +  > +  >    type: "header";
  > +  > +  >    level: number;
  > +  > +  >    content: string;
  > +  > +  > +  sourcePath?: string;
  > +  > +  >    children: Array<TextNode | ListNode | HeaderNode>;
  > +  > +  >  }
  > +  > +  > *** End Patch
  > +  > +  > ```
  > +  > +  > Documented new `sourcePath` metadata in [specs/lib/md2json/md2json.spec.md](../specs/lib/md2json/md2json.spec.md).  
  > +  > +  > ---
  > +  > +  > **Edit** `specs/app/components/comparison/configuration/configuration-service.spec.md` via `apply_patch`  
  > +  > +  > ```patch
  > +  > +  > *** Begin Patch
  > +  > +  > *** Update File: specs/app/components/comparison/configuration/configuration-service.spec.md
  > +  > +  > @@
  > +  > +  >  - Processes criteria data based on type (MARKDOWN, RATING, LABEL, REPOSITORY) [@test](./configuration-service.test.ts)
  > +  > +  >  - Converts label tooltips to HTML format [@test](./configuration-service.test.ts)
  > +  > +  >  - Creates labelArray from label maps [@test](./configuration-service.test.ts)
  > +  > +  > +- Carries forward the markdown `sourcePath` emitted in `data.json` and derives a public `editLink` for each `DataElement` by joining the dataset's `sources.dataDir` with that filename against the repository base URL so the UI can offer an edit shortcut
  > +  > +  > *** End Patch
  > +  > +  > ```
  > +  > +  > Added edit-link enrichment requirement for `ConfigurationService`.  
  > +  > +  > ---
  > +  > +  > **Edit** `specs/app/components/comparison/configuration/configuration-service.spec.md` via `apply_patch`  
  > +  > +  > ```patch
  > +  > +  > *** Begin Patch
  > +  > +  > *** Update File: specs/app/components/comparison/configuration/configuration-service.spec.md
  > +  > +  > @@
  > +  > +  > -- Carries forward the markdown `sourcePath` emitted in `data.json` and derives a public `editLink` for each `DataElement` by joining the dataset's `sources.dataDir` with that filename against the repository base URL so the UI can offer an edit shortcut
  > +  > +  > +- Carries forward the markdown `sourcePath` emitted in `data.json` and derives a public `editLink` for each `DataElement` by joining the dataset's `sources.dataDir` with that filename against the main-branch GitHub blob URL (configurable base, defaults to `https://github.com/ultimate-comparisons/ultimate-comparison-framework/blob/main/`) so the UI can offer an edit shortcut
  > +  > +  > *** End Patch
  > +  > +  > ```
  > +  > +  > Clarified default edit-link base URL in the spec update.  
  > +  > +  > ---
  > +  > +  > **Edit** `specs/app/components/output/generic-table.component.spec.md` via `apply_patch`  
  > +  > +  > ```patch
  > +  > +  > *** Begin Patch
  > +  > +  > *** Add File: specs/app/components/output/generic-table.component.spec.md
  > +  > +  > +# Generic Table Component
  > +  > +  > +
  > +  > +  > +Angular component responsible for rendering the comparison matrix, including row-level actions for inspecting and editing individual entries.
  > +  > +  > +
  > +  > +  > +## Target
  > +  > +  > +
  > +  > +  > +[@describe](../../../../src/app/components/output/generic-table/generic-table.component.ts)
  > +  > +  > +
  > +  > +  > +## Capabilities
  > +  > +  > +
  > +  > +  > +### Comparison grid rendering
  > +  > +  > +
  > +  > +  > +Displays the configured comparison criteria as a table with sortable headers and grouped columns.
  > +  > +  > +
  > +  > +  > +- Uses provided `columns`, `columnKeys`, and `types` inputs to render each criterion cell
  > +  > +  > +- Emits `orderChange` when a header is clicked so parent components can re-sort results
  > +  > +  > +- Emits `showDetails` when the details icon is clicked so the parent can open the drawer
  > +  > +  > +- Keeps group headers in sync with `FeatureGroupingService` group definitions
  > +  > +  > +
  > +  > +  > +### Row action icons
  > +  > +  > +
  > +  > +  > +Provides quick access controls for each comparison entry.
  > +  > +  > +
  > +  > +  > +- Renders the existing info icon button to trigger the details dialog
  > +  > +  > +- Adds a pen icon button next to the info button that links to the entry’s markdown edit URL (`DataElement.editLink`)
  > +  > +  > +- Opens the edit link in a new browser tab with `rel="noopener noreferrer"` for safety
  > +  > +  > +- Hides the edit icon when `editLink` is missing or empty so the UI never exposes a broken action
  > +  > +  > +- Supplies descriptive `title` attributes (e.g. “Edit source”) for both icons to keep the controls accessible
  > +  > +  > +
  > +  > +  > +### Criteria content presentation
  > +  > +  > +
  > +  > +  > +Supports heterogeneous criterion types (markdown, rating, labels) within each row.
  > +  > +  > +
  > +  > +  > +- Uses `sanitizeHtml` pipe for markdown-rendered cells to prevent XSS
  > +  > +  > +- Displays repository link lists when the `REPOSITORY` type includes URLs
  > +  > +  > +- Passes label color toggles through to the template based on `labelColorsEnabled`
  > +  > +  > +
  > +  > +  > +## Dependencies
  > +  > +  > +
  > +  > +  > +### Feature grouping
  > +  > +  > +
  > +  > +  > +Relies on `FeatureGroupingService` to know which columns belong to the same logical group.
  > +  > +  > +[@use](../../../../src/app/components/output/feature-grouping.service.ts)
  > +  > +  > +
  > +  > +  > +### Polymer icon buttons
  > +  > +  > +
  > +  > +  > +Uses the shared `picon-button` component for consistent icon button styling.
  > +  > +  > +[@use](../../../../src/app/components/polymer/paper-icon-button/picon-button.component.ts)
  > +  > +  > *** End Patch
  > +  > +  > ```
  > +  > +  > Created new spec covering table edit-link icon requirements.  
  > +  > +  > ---
  > +  > +  > **Edit** `specs/app/components/comparison/details/comparison-details.component.spec.md` via `apply_patch`  
  > +  > +  > ```patch
  > +  > +  > *** Begin Patch
  > +  > +  > *** Add File: specs/app/components/comparison/details/comparison-details.component.spec.md
  > +  > +  > +# Comparison Details Component
  > +  > +  > +
  > +  > +  > +Displays the full details dialog for a selected comparison entry, including grouped criteria sections and source metadata.
  > +  > +  > +
  > +  > +  > +## Target
  > +  > +  > +
  > +  > +  > +[@describe](../../../../../src/app/components/comparison/details/comparison.details.component.ts)
  > +  > +  > +
  > +  > +  > +## Capabilities
  > +  > +  > +
  > +  > +  > +### Header metadata rendering
  > +  > +  > +
  > +  > +  > +Shows the entry title, URL, and associated labels when the dialog opens.
  > +  > +  > +
  > +  > +  > +- Pulls label chips from the configured header reference and respects the global label color toggle
  > +  > +  > +- Displays the primary repository or homepage link beneath the title when present
  > +  > +  > +- Keeps the header text and labels in sync whenever the selected `DataElement` input changes
  > +  > +  > +
  > +  > +  > +### Markdown edit link
  > +  > +  > +
  > +  > +  > +Provides a direct shortcut to the markdown source for the entry so contributors can update content quickly.
  > +  > +  > +
  > +  > +  > +- Reads the new `data.editLink` value created by `ConfigurationService`
  > +  > +  > +- Renders a pen icon button (matching the table action) next to the URL in the header
  > +  > +  > +- Opens the edit link in a new tab with `rel="noopener noreferrer"` for safety
  > +  > +  > +- Hides the pen icon entirely when the `editLink` value is missing
  > +  > +  > +
  > +  > +  > +### Section grouping and rendering
  > +  > +  > +
  > +  > +  > +Organizes the remaining criteria into grouped and ungrouped sections for display.
  > +  > +  > +
  > +  > +  > +- Builds grouped sections from parent criteria that list `children` values in the configuration
  > +  > +  > +- Uses `FeatureGroupingService` metadata to decide which sections display together
  > +  > +  > +- Supports multiple criteria types (labels, markdown, text, repository) by delegating to the appropriate template fragments
  > +  > +  > +- Optionally renders label tooltips inline when `tooltipAsText` is enabled
  > +  > +  > +
  > +  > +  > +## Dependencies
  > +  > +  > +
  > +  > +  > +### Configuration service
  > +  > +  > +
  > +  > +  > +Requires `ConfigurationService` for the loaded configuration metadata and criteria lookup helpers.
  > +  > +  > +[@use](../../../../../src/app/components/comparison/configuration/configuration.service.ts)
  > +  > +  > *** End Patch
  > +  > +  > ```
  > +  > +  > Documented details dialog edit-link requirements.  
  > +  > +  > ---
  > +  > +  > **Edit** `plans/2025-10-28_09-55-26_edit-links.plan.md` via `apply_patch`  
  > +  > +  > ```patch
  > +  > +  > *** Begin Patch
  > +  > +  > *** Update File: plans/2025-10-28_09-55-26_edit-links.plan.md
  > +  > +  > @@
  > +  > +  > - [ ] Draft specs describing dataset filename inclusion and UI edit links
  > +  > +  > + - [x] Draft specs describing dataset filename inclusion and UI edit links
  > +  > +  > *** End Patch
  > +  > +  > ```
  > +  > +  > Recorded this task completion and associated command log.
  > +  > ```
 > Documented every spec change and marked the task complete.

- [x] Generate implementation updates via `tessl build`
  > **Bash** `["bash","-lc","tessl build --spec specs/lib/md2json/md2json.spec.md specs/app/components/comparison/configuration/configuration-service.spec.md specs/app/components/output/generic-table.component.spec.md specs/app/components/comparison/details/comparison-details.component.spec.md"]`  
  > Initial run failed due to sandbox restrictions.  
  > ---
  > **Bash** `["bash","-lc","tessl build --spec specs/lib/md2json/md2json.spec.md specs/app/components/comparison/configuration/configuration-service.spec.md specs/app/components/output/generic-table.component.spec.md specs/app/components/comparison/details/comparison-details.component.spec.md"]` with `with_escalated_permissions=true`, `justification="Need Tessl build to update generated code and templates per new specs"`  
  > Tessl regenerated `lib/md2json/md2json.ts`, injecting the `sourcePath` metadata support; other describe-only specs require manual updates.
- [x] Review generated changes for dataset metadata and UI links
  > **Bash** `["bash","-lc","git status -sb"]`  
  > Confirmed baseline modifications limited to md2json and spec files after Tessl generation.  
  > ---  
  > **Bash** `["bash","-lc","sed -n '286,360p' lib/md2json/md2json.ts"]`  
  > Reviewed converter aggregation logic to plan `sourcePath` injection.  
  > ---  
  > **Bash** `["bash","-lc","rg \"sourcePath\" -n lib/md2json/md2json.ts"]`  
  > Verified interface already reflected new field; ensured single usage site.  
  > ---  
  > **Bash** `["bash","-lc","sed -n '1,80p' lib/md2json/md2json.ts"]`  
  > Confirmed `HeaderNode` interface now exposes `sourcePath`.  
  > ---  
  > **Edit** `lib/gulp/model/data/dataElement.js` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: lib/gulp/model/data/dataElement.js
  > @@
  > -class DataElement {
  > -  constructor(name, url, shortDescription, criteriaData, averageRating, html, latex, groupData, criteriaGroup) {
  > +class DataElement {
  > +  constructor(name, url, shortDescription, criteriaData, averageRating, html, latex, groupData, criteriaGroup, sourcePath) {
  > @@
  > -      criteriaGroup: criteriaGroup
  > +      criteriaGroup: criteriaGroup,
  > +      sourcePath: sourcePath
  > @@
  > -    this.criteriaGroup = ref.criteriaGroup;
  > +    this.criteriaGroup = ref.criteriaGroup;
  > +    this.sourcePath = ref.sourcePath || null;
  > +    this.editLink = null;
  > @@
  > -      criteriaGroup,
  > -      criteriaGroup
  > +      criteriaGroup,
  > +      json.sourcePath
  > @@
  > -    return {
  > +    const payload = {
  >       type: "header",
  >       level: 1,
  >       content: isNullOrUndefined(this.url) || this.url.length === 0 ? this.name : this.name.concat(" - ", this.url),
  >       children: children
  >     };
  > +    if (!isNullOrUndefined(this.sourcePath) && this.sourcePath !== '') {
  > +      payload.sourcePath = this.sourcePath;
  > +    }
  > +    return payload;
  >   }
  > *** End Patch
  > ```
  > Added persistent `sourcePath` storage/editLink slot so downstream JSON keeps track of the markdown filename.  
  > ---  
  > **Edit** `lib/gulp/model/data/dataElement.d.ts` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: lib/gulp/model/data/dataElement.d.ts
  > @@
  >   public criteriaGroup: Map<string, string>;
  >   public html: string;
  >   public latex: string;
  > +  public sourcePath?: string | null;
  > +  public editLink?: string | null;
  > @@
  > -    criteriaGroup?: Map<string, string>
  > +    criteriaGroup?: Map<string, string>,
  > +    sourcePath?: string
  >   );
  > *** End Patch
  > ```
  > Updated typings to expose new metadata fields to Angular.  
  > ---  
  > **Edit** `src/app/components/comparison/configuration/configuration.service.ts` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: src/app/components/comparison/configuration/configuration.service.ts
  > @@
  > -import { Configuration, Criteria, CriteriaTypes, CriteriaValue, Data, Label } from '../../../../../lib/gulp/model/model.module';
  > +import { Configuration, Criteria, CriteriaTypes, CriteriaValue, Data, DataElement, Label } from '../../../../../lib/gulp/model/model.module';
  > @@
  > -    public tableColumns: Array<string> = [];
  > -    public criteriaValues: Array<Array<{ id: string, text: string, criteriaValue: CriteriaValue }>>;
  > +    public tableColumns: Array<string> = [];
  > +    public criteriaValues: Array<Array<{ id: string, text: string, criteriaValue: CriteriaValue }>>;
  > +    public dataElements: Array<DataElement> = [];
  > @@
  > -    private currentDatasetId: string | null = null;
  > +    private currentDatasetId: string | null = null;
  > +    private currentDataset: DatasetManifestEntry | null = null;
  > +
  > +    private static readonly DEFAULT_EDIT_LINK_BASE = 'https://github.com/ultimate-comparisons/ultimate-comparison-framework/blob/main/';
  > +    private static readonly EDIT_LINK_WINDOW_KEY = 'UC_EDIT_LINK_BASE_URL';
  > @@
  > -        const requests = [
  > +        const requests = [
  >              this.http.get(this.buildDatasetAssetUrl(dataset, 'comparison.json')),
  >              this.http.get(this.buildDatasetAssetUrl(dataset, 'data.json')),
  >              this.http.get(this.buildDatasetAssetUrl(dataset, 'description.md'), {responseType: 'text'})
  >          ];
  > +        this.currentDataset = dataset;
  > @@
  > -        ConfigurationService.data = Data.loadJson(result[1], this.configuration);
  > -        ConfigurationService.data.dataElements = ConfigurationService.data.dataElements.map(dataElement => {
  > +        ConfigurationService.data = Data.loadJson(result[1], this.configuration);
  > +        const activeDataset = this.currentDataset;
  > +        const editLinkBase = this.resolveEditLinkBase(activeDataset);
  > +        const datasetSegments = ConfigurationService.splitPath(activeDataset?.sources?.dataDir || '');
  > +        ConfigurationService.data.dataElements = ConfigurationService.data.dataElements.map(dataElement => {
  > @@
  > -                return dataElement;
  > +                dataElement.editLink = this.buildEditLink(dataElement, datasetSegments, editLinkBase);
  > +                return dataElement;
  >             }
  >         );
  > +        this.dataElements = ConfigurationService.data.dataElements;
  > @@
  > +    private buildEditLink(dataElement: DataElement, datasetSegments: string[], editLinkBase: string): string | null {
  > +        if (isNullOrUndefined(dataElement) || isNullOrUndefined(dataElement.sourcePath) || dataElement.sourcePath === '') {
  > +            return null;
  > +        }
  > +        const encodedSegments = [
  > +            ...datasetSegments,
  > +            ...ConfigurationService.splitPath(dataElement.sourcePath)
  > +        ].map(segment => encodeURIComponent(segment));
  > +        if (encodedSegments.length === 0) {
  > +            return null;
  > +        }
  > +        return `${editLinkBase}${encodedSegments.join('/')}`;
  > +    }
  > +
  > +    private resolveEditLinkBase(dataset: DatasetManifestEntry | null): string {
  > +        const datasetBase = dataset?.sources?.editBaseUrl;
  > +        const windowBase = ConfigurationService.getWindowEditBaseOverride();
  > +        const candidate = (datasetBase && datasetBase.trim().length > 0)
  > +            ? datasetBase
  > +            : (windowBase ?? ConfigurationService.DEFAULT_EDIT_LINK_BASE);
  > +        return ConfigurationService.ensureTrailingSlash(candidate);
  > +    }
  > +
  > +    private static getWindowEditBaseOverride(): string | null {
  > +        if (typeof window === 'undefined') {
  > +            return null;
  > +        }
  > +        const candidate = window[ConfigurationService.EDIT_LINK_WINDOW_KEY];
  > +        if (typeof candidate === 'string' && candidate.trim().length > 0) {
  > +            return candidate.trim();
  > +        }
  > +        return null;
  > +    }
  > +
  > +    private static ensureTrailingSlash(value: string): string {
  > +        return value.replace(/\/+$/, '') + '/';
  > +    }
  > +
  > +    private static splitPath(path: string): string[] {
  > +        if (isNullOrUndefined(path)) {
  > +            return [];
  > +        }
  > +        return path
  > +            .split('/')
  > +            .map(segment => segment.trim())
  > +            .filter(segment => segment.length > 0 && segment !== '.');
  > +    }
  > *** End Patch
  > ```
  > Added edit-link derivation, dataset tracking, and helper utilities per spec.  
  > ---  
  > **Edit** `src/app/components/datasets/dataset-manifest.service.ts` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: src/app/components/datasets/dataset-manifest.service.ts
  > @@
  > -  sources?: {
  > -    dataDir?: string;
  > -    config?: string;
  > -    description?: string;
  > -    style?: string;
  > -  };
  > +  sources?: {
  > +    dataDir?: string;
  > +    config?: string;
  > +    description?: string;
  > +    style?: string;
  > +    editBaseUrl?: string;
  > +  };
  > }
  > *** End Patch
  > ```
  > Extended manifest typing so datasets can override the edit-link base URL.  
  > ---  
  > **Edit** `src/app/components/output/generic-table/generic-table.component.ts` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: src/app/components/output/generic-table/generic-table.component.ts
  > @@
  > -import { CriteriaData, Label } from '../../../../../lib/gulp/model/model.module';
  > +import { CriteriaData, DataElement, Label } from '../../../../../lib/gulp/model/model.module';
  > @@
  > -    @Input() labelColorsEnabled: boolean = true;
  > +    @Input() labelColorsEnabled: boolean = true;
  > +    @Input() dataElements: Array<DataElement> = [];
  > @@
  > +    public resolveEditLink(rowIndex: number): string | null {
  > +        if (rowIndex === null || rowIndex === undefined) {
  > +            return null;
  > +        }
  > +        if (!Array.isArray(this.dataElements) || rowIndex < 0 || rowIndex >= this.dataElements.length) {
  > +            return null;
  > +        }
  > +        const element = this.dataElements[rowIndex];
  > +        if (!element || !element.editLink) {
  > +            return null;
  > +        }
  > +        return element.editLink;
  > +    }
  > *** End Patch
  > ```
  > Table component can now resolve edit links for each row.  
  > ---  
  > **Edit** `src/app/components/output/generic-table/generic-table.component.html` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: src/app/components/output/generic-table/generic-table.component.html
  > @@
  > -            <td>
  > +            <td class="row-actions">
  > +                <a *ngIf="resolveEditLink(index[itemIndex]) as editLink"
  > +                   class="row-actions__link"
  > +                   [href]="editLink"
  > +                   target="_blank"
  > +                   rel="noopener noreferrer"
  > +                   title="Edit source"
  > +                   aria-label="Edit source">
  > +                    <picon-button icon="edit" [showTooltip]="false"></picon-button>
  > +                </a>
  >                 <picon-button icon="info" [showTooltip]="false" title="Details"
  >                               (click)="showDetails.emit(index[itemIndex])"></picon-button>
  >             </td>
  > *** End Patch
  > ```
  > Injected pen icon link beside the info button.  
  > ---  
  > **Edit** `src/app/components/output/generic-table/generic-table.component.css` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: src/app/components/output/generic-table/generic-table.component.css
  > @@
  > table {
  >     width: auto;
  >     color: var(--text-color, #333333);
  > }
  > +
  > +.row-actions {
  > +    display: flex;
  > +    align-items: center;
  > +    gap: 6px;
  > +}
  > +
  > +.row-actions__link {
  > +    display: inline-flex;
  > +    align-items: center;
  > +}
  > *** End Patch
  > ```
  > Styled the new action cell for tidy icon spacing.  
  > ---  
  > **Bash** `["bash","-lc","sed -n '188,210p' src/app/components/comparison/comparison.template.html"]`  
  > Inspected `<generictable>` invocation to wire new input.  
  > ---  
  > **Edit** `src/app/components/comparison/comparison.template.html` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: src/app/components/comparison/comparison.template.html
  > @@
  >                           [changeNum]="configurationService.tableColumns.length + vm.state.currentColumnNames.length + (settingsOpen ? 0 : 1) + changed"
  >                           [labelColorsEnabled]="vm.state.labelColorsEnabled"
  > +                          [dataElements]="configurationService.dataElements"
  >                           (settingsCallback)="settingsOpen = true"
  > *** End Patch
  > ```
  > Passed computed `DataElement` array into the table component.  
  > ---  
  > **Edit** `src/app/components/comparison/details/comparison.details.template.html` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: src/app/components/comparison/details/comparison.details.template.html
  > @@
  > -        <small><a href="{{data.url}}" target="_blank">{{data.url}}</a></small>
  > +        <small class="details-links">
  > +            <a *ngIf="data?.url"
  > +               class="details-links__primary"
  > +               [href]="data.url"
  > +               target="_blank"
  > +               rel="noopener noreferrer">
  > +                {{data.url}}
  > +            </a>
  > +            <a *ngIf="data?.editLink"
  > +               class="details-links__edit"
  > +               [href]="data.editLink"
  > +               target="_blank"
  > +               rel="noopener noreferrer"
  > +               title="Edit source"
  > +               aria-label="Edit source">
  > +                <picon-button icon="edit" [showTooltip]="false"></picon-button>
  > +            </a>
  > +        </small>
  > *** End Patch
  > ```
  > Surfaced the edit shortcut inside the details dialog header.  
  > ---  
  > **Edit** `src/app/components/comparison/details/comparison.details.component.css` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: src/app/components/comparison/details/comparison.details.component.css
  > @@
  > .repository-links a {
  >     color: var(--link-color, #1565c0);
  >     text-decoration: underline;
  >     word-break: break-all;
  > }
  > +
  > +.details-links {
  > +    display: inline-flex;
  > +    align-items: center;
  > +    gap: 8px;
  > +    margin-left: 8px;
  > +    font-size: 0.85em;
  > +    vertical-align: middle;
  > +}
  > +
  > +.details-links__primary {
  > +    color: var(--link-color, #1565c0);
  > +    text-decoration: underline;
  > +    word-break: break-all;
  > +}
  > +
  > +.details-links__edit {
  > +    display: inline-flex;
  > +    align-items: center;
  > +}
  > *** End Patch
  > ```
  > Added styling for the details header link cluster.  
  > ---  
  > **Edit** `src/app/components/polymer/iron-icon/iron-icon.component.html` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: src/app/components/polymer/iron-icon/iron-icon.component.html
  > @@
  >             <g id="info">
  >                 <path
  >                     d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
  >             </g>
  > +            <g id="edit">
  > +                <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25z"/>
  > +                <path d="M20.71 7.04a1 1 0 0 0 0-1.41l-2.34-2.34a1 1 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
  > +            </g>
  > *** End Patch
  > ```
  > Registered an edit/pen glyph for the icon button.  
  > ---  
  > **Bash** `["bash","-lc","ls specs/app/components/comparison/details"]`  
  > Verified new comparison-details spec lives under the expected directory.  
  > ---  
  > **Bash** `["bash","-lc","git status -sb"]`  
  > Verified all expected source files show modifications after hand edits.  
  > ---  
  > **Bash** `["bash","-lc","head -n 5 src/assets/generated/example/data.json"]`  
  > Confirmed regenerated dataset now embeds `sourcePath` entries.
- [x] Run build/test validation (e.g., `npm run build`) and summarize results
  > **Bash** `["bash","-lc","npm run build"]` with `with_escalated_permissions=true`, `justification="Need to run Angular build to verify new metadata and UI changes compile without errors"`  
  > Full data preparation + Angular build succeeded; gulp pipeline regenerated `dist` and `src/assets/generated` JSON (now carrying `sourcePath`), and the Angular compiler emitted warnings only about unused legacy entry points.
  > ---  
  > **Bash** `["bash","-lc","git status -sb"]`  
  > Catalogued build artefact updates (dist bundles and generated JSON) to include in review and final report.

- [x] Update specs to reflect repository-derived edit link base
  > **Edit** `specs/app/components/comparison/configuration/configuration-service.spec.md` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: specs/app/components/comparison/configuration/configuration-service.spec.md
  > @@
  > -- Carries forward the markdown `sourcePath` emitted in `data.json` and derives a public `editLink` for each `DataElement` by joining the dataset's `sources.dataDir` with that filename against the main-branch GitHub blob URL (configurable base, defaults to `https://github.com/ultimate-comparisons/ultimate-comparison-framework/blob/main/`) so the UI can offer an edit shortcut
  > +- Carries forward the markdown `sourcePath` emitted in `data.json` and derives a public `editLink` for each `DataElement` by joining the dataset's `sources.dataDir` with that filename against a configurable base URL. Defaults to the repository URL declared in package.json (converted to the GitHub `blob/main/` viewer) when dataset or runtime overrides are absent.
  > *** End Patch
  > ```  
  > Updated spec to describe repository-derived default edit base.  
  > ---  
  > **Edit** `specs/app/components/datasets/dataset-manifest-service.spec.md` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: specs/app/components/datasets/dataset-manifest-service.spec.md
  > @@
  > -Loads configuration/datasets.manifest.json (copied to `assets/configuration/datasets.manifest.json`) via HttpClient once and caches the result. Manifest JSON is an object with a `datasets` array, so the service unwraps that collection, validates each entry (id, displayLabel, description, assetDirectory), and sorts results by displayLabel. Ignores build-only `sources` metadata while still passing it through when callers need to inspect it.
  > +Loads configuration/datasets.manifest.json (copied to `assets/configuration/datasets.manifest.json`) via HttpClient once and caches the result. Manifest JSON is an object with a `datasets` array, so the service unwraps that collection, validates each entry (id, displayLabel, description, assetDirectory), and sorts results by displayLabel. Passes through optional `sources` metadata (dataDir, config, description, style, editBaseUrl) so downstream services can discover dataset-specific overrides without blocking validation.
  > @@
  > -    style?: string;
  > +    style?: string;
  > +    editBaseUrl?: string;
  >   };
  > }
  > *** End Patch
  > ```  
  > Documented optional `editBaseUrl` metadata for dataset overrides.
- [x] Implement repository-derived edit link base handling
  > **Edit** `src/app/components/comparison/configuration/configuration.service.ts` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: src/app/components/comparison/configuration/configuration.service.ts
  > @@
  > -import { ChangeDetectorRef, Injectable } from '@angular/core';
  > -import { Title } from '@angular/platform-browser';
  > -import { HttpClient } from '@angular/common/http';
  > -
  > -import { Configuration, Criteria, CriteriaTypes, CriteriaValue, Data, DataElement, Label } from '../../../../../lib/gulp/model/model.module';
  > +import { ChangeDetectorRef, Injectable } from '@angular/core';
  > +import { Title } from '@angular/platform-browser';
  > +import { HttpClient } from '@angular/common/http';
  > +
  > +import { Configuration, Criteria, CriteriaTypes, CriteriaValue, Data, DataElement, Label } from '../../../../../lib/gulp/model/model.module';
  > +import packageInfo from '../../../../../package.json';
  > @@
  > -    private static readonly DEFAULT_EDIT_LINK_BASE = 'https://github.com/ultimate-comparisons/ultimate-comparison-framework/blob/main/';
  > +    private static readonly DEFAULT_EDIT_LINK_BASE = ConfigurationService.buildDefaultEditLinkBase();
  >     private static readonly EDIT_LINK_WINDOW_KEY = 'UC_EDIT_LINK_BASE_URL';
  > *** End Patch
  > ```  
  > Added package.json import and swapped the hard-coded default for a computed base.  
  > ---  
  > **Edit** `src/app/components/comparison/configuration/configuration.service.ts` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: src/app/components/comparison/configuration/configuration.service.ts
  > @@
  > +    private static buildDefaultEditLinkBase(): string {
  > +        const fallback = 'https://github.com/ultimate-comparisons/ultimate-comparison-framework/blob/main/';
  > +        const repository: any = (packageInfo as any)?.repository;
  > +        const repoUrl = typeof repository === 'string'
  > +            ? repository
  > +            : (repository && typeof repository.url === 'string' ? repository.url : '');
  > +        const derived = ConfigurationService.deriveGithubBlobBase(repoUrl);
  > +        return derived ?? fallback;
  > +    }
  > +
  > +    private static deriveGithubBlobBase(repoUrl: string): string | null {
  > +        if (isNullOrUndefined(repoUrl)) {
  > +            return null;
  > +        }
  > +        let url = repoUrl.trim();
  > +        if (url.length === 0) {
  > +            return null;
  > +        }
  > +        url = url.replace(/^git\+/, '');
  > +        if (url.startsWith('git@')) {
  > +            const sshMatch = url.match(/^git@([^:]+):(.+)$/);
  > +            if (!sshMatch) {
  > +                return null;
  > +            }
  > +            const host = sshMatch[1];
  > +            const path = ConfigurationService.trimGitSuffix(sshMatch[2]);
  > +            if (!/github\.com$/i.test(host) || path.length === 0) {
  > +                return null;
  > +            }
  > +            const base = `https://${host}/${path}`;
  > +            return ConfigurationService.ensureTrailingSlash(base) + 'blob/main/';
  > +        }
  > +
  > +        const normalized = url.startsWith('git://') ? `https://${url.substring(6)}` : url.replace(/^git:/, 'https:');
  > +        try {
  > +            const parsed = new URL(normalized);
  > +            const host = parsed.host;
  > +            const path = ConfigurationService.trimGitSuffix(parsed.pathname || '');
  > +            if (!/github\.com$/i.test(host) || path.length === 0) {
  > +                return null;
  > +            }
  > +            const base = `https://${host}/${path}`;
  > +            return ConfigurationService.ensureTrailingSlash(base) + 'blob/main/';
  > +        } catch (error) {
  > +            return null;
  > +        }
  > +    }
  > +
  > +    private static trimGitSuffix(path: string): string {
  > +        if (isNullOrUndefined(path)) {
  > +            return '';
  > +        }
  > +        let normalized = path.trim().replace(/^\/+/, '');
  > +        if (normalized.toLowerCase().endsWith('.git')) {
  > +            normalized = normalized.substring(0, normalized.length - 4);
  > +        }
  > +        normalized = normalized.replace(/\/+/g, '/');
  > +        return normalized;
  > +    }
  > @@
  > -    private resolveEditLinkBase(dataset: DatasetManifestEntry | null): string {
  > -        const datasetBase = dataset?.sources?.editBaseUrl;
  > +    private resolveEditLinkBase(dataset: DatasetManifestEntry | null): string {
  > +        const datasetBaseRaw = dataset?.sources?.editBaseUrl;
  > +        const datasetBase = typeof datasetBaseRaw === 'string' ? datasetBaseRaw : '';
  >         const windowBase = ConfigurationService.getWindowEditBaseOverride();
  > -        const candidate = (datasetBase && datasetBase.trim().length > 0)
  > -            ? datasetBase
  > +        const candidate = datasetBase.trim().length > 0
  > +            ? datasetBase
  >             : (windowBase ?? ConfigurationService.DEFAULT_EDIT_LINK_BASE);
  >         return ConfigurationService.ensureTrailingSlash(candidate);
  >     }
  > *** End Patch
  > ```  
  > Added GitHub URL derivation helpers, normalized dataset override handling, and wired the new default into runtime logic.  
  > ---  
  > **Edit** `src/app/components/comparison/configuration/configuration.service.ts` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: src/app/components/comparison/configuration/configuration.service.ts
  > @@
  > -        normalized = normalized.replace(/\/+/, '/');
  > +        normalized = normalized.replace(/\/+/g, '/');
  >         return normalized;
  >     }
  > *** End Patch
  > ```  
  > Ensured repeated separators inside `trimGitSuffix` collapse globally so nested paths stay clean.  
  > ---  
  > **Edit** `src/app/components/comparison/configuration/configuration.service.ts` via `apply_patch`  
  > ```patch
  > *** Begin Patch
  > *** Update File: src/app/components/comparison/configuration/configuration.service.ts
  > @@
  > -        const candidate = (window as Record<string, unknown>)[ConfigurationService.EDIT_LINK_WINDOW_KEY];
  > +        const globalWindow = window as unknown as Record<string, unknown>;
  > +        const candidate = globalWindow[ConfigurationService.EDIT_LINK_WINDOW_KEY];
  > *** End Patch
  > ```  
  > Addressed TypeScript's index-signature warning by casting through `unknown` before indexing the `window` object.

- [x] Re-run build to verify repository-based default
  > **Bash** `["bash","-lc","npm run build"]` with `with_escalated_permissions=true`, `justification="Verify configuration changes compile and dataset build still succeeds"`  
  > Build failed: TypeScript flagged the `window` cast while compiling `configuration.service.ts`; Angular output halted before bundling.  
  > ---  
  > **Bash** `["bash","-lc","npm run build"]` with `with_escalated_permissions=true`, `justification="Confirm repository-derived link changes compile and builds succeed"`  
  > Rebuild succeeded; gulp regenerated dataset JSON and Angular bundles with only the usual unused-entry warnings.
- [ ] Run build/test validation (e.g., `npm run build`) and summarize results
