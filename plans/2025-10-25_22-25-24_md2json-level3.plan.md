# Plan: Capture level-3 Markdown criteria

Extend the md2json converter so `###` headings (level 3) nested under a criterion become child header nodes in the JSON output.

## Tasks

- [x] Update the md2json spec to describe how level-3 headings should be captured beneath their parent criteria.
  > **Edit** `apply_patch` (specs/lib/md2json/md2json.spec.md)
  >
  > Added a bullet explicitly calling out `###` headings so the spec requires them to be emitted as level-3 header nodes under their parent criterion.
- [x] Rebuild the converter implementation/tests from the updated spec.
  > **MCP** `tessl - build`
  > - spec: ["specs/lib/md2json/md2json.spec.md"]
  >
  > Regenerated [lib/md2json/md2json.ts](../lib/md2json/md2json.ts) to embed the level-3 parsing logic.
  > ---
  > **MCP** `tessl - build-tests`
  > - spec: ["specs/lib/md2json/md2json.spec.md"]
  >
  > Updated [tests/lib/md2json/md2json.converter.spec.ts](../tests/lib/md2json/md2json.converter.spec.ts) so the test suite now covers the new heading level.
  > ---
  > **Bash** `{"command":["bash","-lc","npm run md2json:compile"],"workdir":"/home/cb/projects/github/ultimate-comparison-framework","with_escalated_permissions":true,"justification":"Compile md2json TypeScript after level-3 criteria support."}`
  >
  > Recompiled the TypeScript source so `lib/md2json/dist/cli.js` reflects the new behavior.
- [x] Verify the CLI still runs via `npm run data:prepare` (or direct invocation) without regressions.
  > **Bash** `{"command":["bash","-lc","npm run data:prepare"],"workdir":"/home/cb/projects/github/ultimate-comparison-framework","with_escalated_permissions":true,"justification":"Verify gulp after header detection fix.","timeout_ms":120000}`
  >
  > Full pipeline now succeeds, producing `dist/data.json` and downstream assets with level-3 headings included.
