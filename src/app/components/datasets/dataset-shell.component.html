<!-- GENERATED FROM SPEC - DO NOT EDIT -->
<!-- @generated with Tessl v0.28.0 from ../../../../specs/app/components/datasets/dataset-shell-template.spec.md -->
<!-- (spec:356e930d) (code:698fcdb0) -->

<div class="dataset-shell">
  <!-- Selector region -->
  <section class="dataset-shell__selector" *ngIf="(datasets$ | async) as datasets; else datasetLoading">
    <nav class="dataset-tabs" role="tablist" aria-label="Dataset selection" *ngIf="(activeDataset$ | async) as active">
      <button *ngFor="let dataset of datasets"
              type="button"
              class="dataset-tab"
              role="tab"
              [attr.id]="'dataset-tab-' + dataset.id"
              [attr.aria-controls]="'dataset-panel-' + dataset.id"
              [attr.aria-selected]="dataset.id === active?.id"
              [class.is-active]="dataset.id === active?.id"
              (click)="onDatasetSelected(dataset.id)">
        <span class="dataset-tab__label">
          <span class="dataset-tab__accent" *ngIf="dataset.accentColor" [style.backgroundColor]="dataset.accentColor"></span>
          {{dataset.displayLabel}}
        </span>
        <span class="dataset-tab__summary">{{dataset.shortDescription || (dataset.description | slice:0:90)}}</span>
      </button>
    </nav>
    <p class="dataset-status" aria-live="polite">
      Showing dataset: {{active?.displayLabel || 'Loading…'}}
    </p>
  </section>
  <ng-template #datasetLoading>
    <p class="dataset-empty" aria-live="polite">Loading datasets…</p>
  </ng-template>
  
  <!-- Dataset details region -->
  <section class="dataset-details"
           *ngIf="(activeDataset$ | async) as activeDataset"
           role="tabpanel"
           [attr.id]="'dataset-panel-' + activeDataset.id"
           [attr.aria-labelledby]="'dataset-tab-' + activeDataset.id">
    <h2>{{activeDataset.displayLabel}}</h2>
    <span class="dataset-details__badge" *ngIf="activeDataset.accentColor"
          [style.backgroundColor]="activeDataset.accentColor">
      {{activeDataset.shortDescription || 'Active'}}
    </span>
    <p>{{activeDataset.description || 'No description available'}}</p>
  </section>
  
  <!-- Content region -->
  <section *ngIf="(activeDataset$ | async) as active; else errorState" class="dataset-content">
    <comparison></comparison>
    <p class="dataset-status" aria-live="polite">
      Showing dataset: {{active.displayLabel}}
    </p>
  </section>
  
  <ng-template #errorState>
    <div class="dataset-error" role="alert">
      No dataset available. Please check configuration/datasets.manifest.json.
    </div>
  </ng-template>
</div>
